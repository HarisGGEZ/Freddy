
o = ">-O"
e = "   "
w = "   "
s = "   "
k = "   "
d = "   "
b = "   "
t = "   "

while True:
    print(f'''                                                                                                                                                                                                                                                                                                                                                                                       
                                            ''...............................''                                              
                                           .,.                               .;.    ..  ..                                   
                                           .,.                               .,.    ',  .,.                                  
                                           .,.                               .;.    ',  .,.                                  
                                           .:'                               ':.    ,,  .;.                                  
       .,'.........,.  .,..................','...............................','....'.   .'.......,'                         
       .,          ,:..;'                                                                         .,                         
       .,          ..  ..                                                                         .,     .......             
       .,          ,;..;'                                                                         .,  .,,......;'            
       .,          ,'  ''                                                                         .,  .,.      .,            
       .,   {b}    ,'  ''                                                                         .:..,;.      .,            
       .,          ,'  ''                                                                         .;'.',.      .,            
       .,          ,'  ''                                                                         .;'.,,.      .,   .........
       .,          ,'  ''                                                                         .:..,:.      ':..,c'......:
       .:..........;'  ''                                                                         .,  .,.      ':..,:.      ,
        ............   ''                                {d}                                      .,  .,.      ':'.;:.      ,
                     ..,,                                                                         .,  .,. {t}  ';..':,......:
           .,,.........:,                                                                         .,  .,.      .,   .........
           .,.         ''                                                                         .,  .,.      .,            
           .,.         .'                                                                         .,  .,.      .,            
           .,.         .'                                                                         .,  .,.      .,   .'......'
           .,.         .'                                                                         .,  .,.      ':'.;:.      ;
           .,.         .'                                                                         .,  .,.      ';..';.      ,
           .;,.........;,                                                                         .,  .,.      ':'.;:.      ,
            ...........;:.........................................................................;,  .,,......;,  .,,......;
                        .................;;..':.............................;;..,;........,:...:,..                   ..     
                                     .'..;,..';'.'.                     .'..;,..,;..'.   .;;...;,.................'.         
                                     ,,          .;.                   .;.          ,,   ,,                       ,,         
                      ............   ,'          .,.                   .,.          ',   ''                       ''         
                     ';.........';.  ,'          .,.                   .,.          ',   ''                       ',         
                     ''         .,.  ,'          .,.                   .,.          ',   ''                       ',         
                     ',         .,.  ,'          .,.                   .,.          ',   ''        {k}           ',         
                     ',         .;;..;'          .,.                   .,.          ',   ''                       ',         
                     ',          ',..,.          .,.                   .,.          ',   ''                       ''         
                     ''   {s}    ,,..;.          .,.                   .,.          ',   ''                       ''         
                     ''         .;;..;'          .,.                   .,.          ',   ,,                       ,,         
                     ''         .,.  ,'          .,.   .............   .,.          ',   .'.......................'.         
                     ''         .,.  ,'          .,.  ,;...........;,  .;.          ',                                       
                     ';.........';.  ,'          .,.  ,'           .,  .,.          ',                                       
                      ...........    ,'          .,.  ,'           ',  .,.          ',                                       
                                     ,'          .;,..:'           ':'.,;.          ',                                       
                                     ,'    {w}    ''..,.    {o}     .,..''   {e}    ',                                       
                                     ,'          .,,.';.           .;'.,,.          ',                                       
                                     ,'          .;,..;'           ';..';.          ',                                       
                                     ,'          .;.  ,'           ',  .;.          ',                                       
                                     ,c,,,,,,,,,,::.  ;c,,,,,,,,,,,c;  .::,,,,,,,,,,c,                                       '''
    )
    
    move = input("")
    
    if move == "left" and o == ">-O":
        o = "   "
        old = "Office"
        e = "   "
        w = ">-O"
        
    elif move == "right" and o == ">-O":
         o = "   "
         old = "Office"
         e = ">-O"
         
    elif move == "back" and old == "Office":       
        if e == ">-O":
            old = "East"
        if w == ">-O":
            old = "West"
        o = ">-O"
        e = "   "
        w = "   "
    
    elif move == "back" and old == "East":    
        if d == ">-O":
            old = "Dining"
        if o == ">-O":
            old = "Office"
        e = ">-O"
        d = "   "
        o = "   "
        
    elif move == "left" and w == ">-O":
        old = "West"
        s = ">-O"
        w = "   "
    
    elif move == "back" and old == "West":
        if s == ">-O":
            old = "Supply"
        if d == ">-O":
            old = "Dining"
        if o == ">-O":
            old = "Office"
        w = ">-O"
        s = "   "
        o = "   "
        d = "   "

    elif move == "back" and old == "Supply":   
        old = "West"
        s = ">-O"
        w = "   "
        
    
    elif move == "up" and (e == ">-O" or w == ">-O"):
        if e == ">-O":
            old = "East"
        if w == ">-O":
            old = "West"
        d = ">-O"
        e = "   "
        w = "   "
        
    elif move == "back" and old == "Dining":
        if e == ">-O":
            old = "East"
        if w == ">-O":
            old = "West"
        if b == ">-O":
            old = "Backstage"
        if t == ">-O":
            old = "Toilets"
        d = ">-O"
        e = "   "
        w = "   "
        b = "   "
        t = "   "
    
    elif move == "left" and d == ">-O":
        old = "Dining"
        b = ">-O"
        d = "   "
    


  
    elif move == "right" and d == ">-O":
        old = "Dining"
        t = ">-O"
        d = "   "
    
    elif move == "east" and d == ">-O":
        e = ">-O"
        d = "   "
    
    elif move == "west" and d == ">-O":
        w = ">-O"
        d = "   "
        
    elif move == "right" and d == ">-O":
        t = ">-O"
        d = "   "
    elif move == "kitchen" and d == ">-O":
        k = ">-O"
        d = "   "
    elif move == "back" and k == ">-O":
        d = ">-O"
        k = "   "
    
    